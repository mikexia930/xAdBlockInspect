"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var p=(r=>(r.Tags="tags",r.Classnames="classnames",r.Ids="ids",r))(p||{});function w(r,s={popup:{isUse:!0,text:"检测到存在广告屏蔽类插件，为了不影响您的正常访问，建议将本站加入白名单，并刷新页面。"},button:{isUse:!1,text:"知道了"}}){function i(e){var a,o,l;const t=document.createElement("button");return t.textContent=((a=s==null?void 0:s.button)==null?void 0:a.text)||"Confirm",(o=s==null?void 0:s.button)!=null&&o.style&&typeof((l=s==null?void 0:s.button)==null?void 0:l.style)=="object"&&Object.keys(s.button.style).forEach(n=>{var d;t.style[String(n)]=((d=s.button.style)==null?void 0:d[String(n)])||""}),t.onclick=function(){e.style.display="none"},t}function y(){var t,a,o;const e=document.createElement("div");return e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.zIndex="10000",e.style.backgroundColor="rgba(255,72,72,0.9)",e.style.padding="20px",e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)",e.style.textAlign="center",e.style.width="100%",e.style.fontSize="16px",e.style.color="#fff",(t=s==null?void 0:s.popup)!=null&&t.style&&typeof((a=s==null?void 0:s.popup)==null?void 0:a.style)=="object"&&Object.keys(s.popup.style).forEach(l=>{var n;e.style[String(l)]=((n=s.popup.style)==null?void 0:n[String(l)])||""}),e.innerHTML=((o=s==null?void 0:s.popup)==null?void 0:o.text)||"No prompt text set",s.button.isUse&&e.appendChild(i(e)),e}function m(e){return new Promise((t,a)=>{const o=new Image;o.onload=function(){t(!0)},o.onerror=function(l){a(l)},o.src=e})}async function b(e){let t=!0;for(const a of e)if(await m(a).then(()=>{t=!0}).catch(()=>{t=!1}),t)break;return t}function c(e,t){return new Promise((a,o)=>{let l=!1;e==="ids"?l=!!document.getElementById(t):e==="tags"?l=!!document.getElementsByTagName(t):e==="classnames"&&(l=!!document.getElementsByClassName(t)),l?a(!0):o(!1)})}async function u(e,t){let a=!0;for(const o of t)if(await c(e,o).then(()=>{a=!0}).catch(()=>{a=!1}),a)break;return a}return new Promise(e=>{document.addEventListener("DOMContentLoaded",async()=>{var a;let t=!0;t&&r.hasOwnProperty("images")&&r.images&&r.images.length>0&&(t=await b(r.images)),t&&r.hasOwnProperty("dom")&&r.dom&&(t&&r.dom.hasOwnProperty("tags")&&(t=await u("tags",r.dom.tags)),t&&r.dom.hasOwnProperty("classnames")&&(t=await u("classnames",r.dom.classnames)),t&&r.dom.hasOwnProperty("ids")&&(t=await u("ids",r.dom.ids))),!t&&((a=s==null?void 0:s.popup)!=null&&a.isUse)&&document.body.appendChild(y()),e(t)})})}exports.EnumInspectDomType=p;exports.xAdBlockInspect=w;
