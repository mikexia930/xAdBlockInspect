(function(l,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(l=typeof globalThis<"u"?globalThis:l||self,u(l.XAdBlockInspect={}))})(this,function(l){"use strict";var u=(o=>(o.Tags="tags",o.Classnames="classnames",o.Ids="ids",o))(u||{});function y(o,s={popup:{isUse:!0,text:"检测到存在广告屏蔽类插件，为了不影响您的正常访问，建议将本站加入白名单，并刷新页面。"},button:{isUse:!1,text:"知道了"}}){function m(e){var a,n,r;const t=document.createElement("button");return t.textContent=((a=s==null?void 0:s.button)==null?void 0:a.text)||"Confirm",(n=s==null?void 0:s.button)!=null&&n.style&&typeof((r=s==null?void 0:s.button)==null?void 0:r.style)=="object"&&Object.keys(s.button.style).forEach(d=>{var i;t.style[String(d)]=((i=s.button.style)==null?void 0:i[String(d)])||""}),t.onclick=function(){e.style.display="none"},t}function b(){var t,a,n;const e=document.createElement("div");return e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.zIndex="10000",e.style.backgroundColor="rgba(255,72,72,0.9)",e.style.padding="20px",e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)",e.style.textAlign="center",e.style.width="100%",e.style.fontSize="16px",e.style.color="#fff",(t=s==null?void 0:s.popup)!=null&&t.style&&typeof((a=s==null?void 0:s.popup)==null?void 0:a.style)=="object"&&Object.keys(s.popup.style).forEach(r=>{var d;e.style[String(r)]=((d=s.popup.style)==null?void 0:d[String(r)])||""}),e.innerHTML=((n=s==null?void 0:s.popup)==null?void 0:n.text)||"No prompt text set",s.button.isUse&&e.appendChild(m(e)),e}function c(e){return new Promise((t,a)=>{const n=new Image;n.onload=function(){t(!0)},n.onerror=function(r){a(r)},n.src=e})}async function h(e){let t=!0;for(const a of e)if(await c(a).then(()=>{t=!0}).catch(()=>{t=!1}),t)break;return t}function f(e,t){return new Promise((a,n)=>{let r=!1;e==="ids"?r=!!document.getElementById(t):e==="tags"?r=!!document.getElementsByTagName(t):e==="classnames"&&(r=!!document.getElementsByClassName(t)),r?a(!0):n(!1)})}async function p(e,t){let a=!0;for(const n of t)if(await f(e,n).then(()=>{a=!0}).catch(()=>{a=!1}),a)break;return a}return new Promise(e=>{document.addEventListener("DOMContentLoaded",async()=>{var a;let t=!0;t&&o.hasOwnProperty("images")&&o.images&&o.images.length>0&&(t=await h(o.images)),t&&o.hasOwnProperty("dom")&&o.dom&&(t&&o.dom.hasOwnProperty("tags")&&(t=await p("tags",o.dom.tags)),t&&o.dom.hasOwnProperty("classnames")&&(t=await p("classnames",o.dom.classnames)),t&&o.dom.hasOwnProperty("ids")&&(t=await p("ids",o.dom.ids))),!t&&((a=s==null?void 0:s.popup)!=null&&a.isUse)&&document.body.appendChild(b()),e(t)})})}l.EnumInspectDomType=u,l.xAdBlockInspect=y,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
